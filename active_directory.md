# Active Directory란?

### 정의
- 네트워크의 모든 정보를 디렉토리에 저장해 손쉽게 관리하고 찾을 수 있게 제공해주는 서비스
- Windows 기반의 중앙집중관리 서비스
- 네트워크의 자원을 디렉토리에 저장함으로써 사용자들이 자원을 찾는 것을 쉽게하고 관리자들 또한 쉽게 자원을 관리하도록 해준다.

### 장점
- 네트워크 상으로 나누어져 있는 자원을 중앙의 관리자가 통합하여 관리할 수 있다.
- 본사 및 자사의 직원들은 더 이상 자신의 PC에 모든 정보를 저장할 필요가 없다.
- 자신의 아이디로 로그인만 하면 타인의 PC가 자신의 PC환경으로 변경된다.
- 어디서든 회사 전체의 자원을 사용가능하다.

---

### Directory Service
- 분산된 네트워크 관련 자원 정보를 중앙의 저장소에 통합시켜 놓음으로써 더 이상 사용자가 정보를 찾아 헤맬 필요가 없도록 도와준다.

### Active Directory(AD)
- Directory Service를 Windows Server에서 구현한 것으로, 전체 환경을 개념적으로 부르는 용어

### Active Directory Domain Service(AD DS)
- 컴퓨터, 사용자, 기타 주변 장치에 대한 정보를 네트워크 상에서 저장하고 이러한 정보들을 관리자가 통합하여 관리하도록 해준다.
- 사용자는 네트워크에 편리하게 자원들을 공유할 수 있으며 공동으로 작업도 가능해진다.
- 기본적으로 DNS 서버를 설치해야 한다.

---

### 구조
- 논리적 구조 : 조직구조(OU), 트리, 포레스트
- 물리적 구조 : 도메인 컨트롤러, 사이트

### 단위
Object < OU < Domain < Tree < Forest

### Object(객체)
- User, Group, Desktop, Server, Printer 등으로 가장 최소 단위

### 액티브 디렉토리 객체
- 컴퓨터 : 도메인에 포함된 특정 컴퓨터에 대한 정보를 보관
- 사용자 계정 : 사용자들이 도메인으로 로그인 할 때 사용되는 이름
- 그룹 : 사용자 계정이나 다른 그룹의 집합으로 자원에 대한 권한을 부여할 때 사용한다.
- 연락처 : 구성원들에게 메일을 보내기 위한 용도이며 그룹만을 포함할 수 있다.
- 조직 단위 : 액티브 디렉토리가 자원을 관리하기 위한 단위
- 공유 폴더 : 공유 폴더에 대한 지점을 보관

### OU(Organization Unit) 조직구조
- Object를 관리할 목적으로 만들어진 그룹화된 단위, 계층구조로 생성 가능
- 하나의 도메인 내에는 여러개의 OU를 가질 수 있다.
- 자체의 트리 구조를 생성하여 다른 OU를 포함할 수 있다.

### Domain
- AD를 구성하는 핵심 단위
- OU를 그룹화 한 것을 뜻함
- 사용자 계정, 컴퓨터, 프린터, OU 등의 네트워크의 객체를 포함하고 있다.
- 각 도메인은 고유한 보안 정책을 갖는다.
- Domain에 대한 정책할당 및 객체관리 등의 목적으로 하나 이상의 Domain Controller가 구성되어야 한다.
- 네트워크의 모든 객체는 반드시 도메인에 소속되어야 한다.

![도메인](https://t1.daumcdn.net/cfile/tistory/995224335A0CEF2019)

### Tree(트리)
- 도메인의 집합이자 도메인의 계층적인 구조
- 트리내에 있는 도메인은 연속적인 이름 공간(name space)을 가진다.
- 최상위 도메인을 제외한 모든 도메인은 반드시 부모 도메인의 이름을 포함한다.
- Root도메인(parent도메인)과 Sub도메인(child도메인)이 있다.
- 각 트리의 최상위 도메인 = 루트 도메인
- 트리 내의 모든 도메인은 서로 양방향 전이 트러스트 관계를 맺는다.
- 트리 내의 도메인 컨트롤러는 양방향 전이 트러스트 관계를 맺어 서로 연결된다.
- 양방향 전이 트러스트 관계를 설립하기 때문에 포레스트 내의 모든 도메인들과 양방향 관계를 형성한다.
- 트리 내의 모든 도메인은 같은 스키마를 갖는다. 스키마는 액티브 디렉토리 내에 저장할 수 있는 객체의 모든 형태를 정의한다.
- 트리 내의 모든 도메인은 같은 글로벌 카탈로그를 갖는다.

### Forest(포레스트)
- 도메인 트리가 서로 양방향 전이 트러스트 관계를 맺은 그룹이다.
- 도메인 간의 트러스트 관계를 맺는다.
- 포레스트 내의 트리는 공통의 스키마를 갖는다.
- 포레스트 내의 트리는 공통의 글로벌 카탈로그를 갖는다.
- 포레스트 내의 트리는 연속적인 이름공간을 갖지만 포레스트를 이루는 도메인은 연속적인 이름공간을 형성하지 않는다.

![포레스트](https://t1.daumcdn.net/cfile/tistory/99B462335A0D0A140F)

----
### 도메인 컨트롤러
- 도메인 안에 들어있는 액티브 디렉토리 데이터베이스를 가지고 있는 컴퓨터를 뜻한다.
- 한 도메인 안에는 여러개의 도메인 컨트롤러가 있다.
- 각 도메인 컨트롤러는 시스템 및 보안 정책, 사용자 인증 데이터, 네트워크 디렉토리 정보 등의 모든 정보를 저장한다.

### site(사이트)
- 도메인 컨트롤러 사이의 물리적인 구조
- 지리적으로 떨어져 있다.
- IP 주소대가 다른 묶음
- 하나의 사이트를 하나의 IP 서브넷으로 본다.
- 사이트간에는 물리적인 연결을 의미하기 때문에 하나의 도메인에는 여러개의 사이트가 연결될 수 있다.
